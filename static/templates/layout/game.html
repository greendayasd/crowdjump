<script type="text/javascript">
    tracksite();
</script>

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="viewport" content="minimal-ui">

<style>
    #instructions {
        background-color: #2c21cb;
    }

    h4 {
        color: white;
        margin-left: 20px;
    }

    .fileUpload {
        position: relative;
        overflow: hidden;
        margin-bottom: 5px;
        margin-right: 5px;
    }

    .fileUpload input.upload {
        position: absolute;
        top: 0;
        right: 0;
        margin: 0;
        padding: 0;
        font-size: 20px;
        cursor: pointer;
        opacity: 0;
        filter: alpha(opacity=0);
    }
</style>

<!-- <div class="container" style="background-color: #2c21cb"> -->
<div class="container">
    <div class="row">
        <br>
    </div>
    <div class="row">
        <div class="col-md-12" id="gameCanvas">

        </div>

    </div>
    <br>
    <div class="row">
        <div class="col-md-12" id="instructions">

            <h4 class="text-center" id="instructions" style="color: white; padding-right: 3%;">
                The goal is simple: Control the alien by using the <b>arrow keys</b>
                to move (or <b>space</b> to jump) to get to the flag. <br>
                Each coin you collect reduces your final time by half a second <br>
                If you get stuck, you can reset the game pressing <b>R</b>.
                Press <b>Escape</b> to get back to the main menu. <br>
                To mute or unmute the game, press <b>M</b>.
                <!---You can press F to go invincible for a short time! <br>
                Use the mouse to aim and the left mouse button to shoot bullets! -->
            </h4>

            <div class="col-md-10 text-center">
                <button id="btn-create" ng-controller="GameController" ng-init="createPGame()"
                        class="btn btn-primary btn-lg">Start
                    Game
                </button>
            </div>
        </div>
    </div>
    <div class="row" ng-controller="IndexController as vm" ng-show="!vm.isAuthenticated">
        <br>
        <div class="alert alert-info">
            <strong>
                <a style="font-size: 28px" style="margin-top: 45px" href="/login?next={{ request.path }}">Remember to
                    login before you play, so your score is saved!</a>
            </strong>
        </div>
    </div>


    <div class="row" ng-show="true">

        <span ng-controller="HighscoreController as vm" id="scoreboard">
            <br>
            <h3>Here are the Top 10 players in version <select ng-model="newestVersion"
                                                               ng-options="template.label for template in versions_max track by template.id"
                                                               ng-change="getVersionHighscore(newestVersion.id)"></select>  !
            </h3>
            <table class="table table-striped table-hover">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">Position</th>
                    <th scope="col">User</th>
                    <th scope="col">Time in seconds</th>
                    <th scope="col">max Coins</th>
                    <th scope="col">max Eastereggs</th>
                </tr>
                </thead>
                <tbody ng-repeat="stat in statistics">
                <tr>
                    <td>
                        <span ng-if="$index == 0">
                            <img class="img-fluid" src="/static/website/images/plan-gold.png" alt="Crowdjump">
                        </span>
                        {{$index + 1}}</td>
                    <td ng-style=stat.color>{{ stat.user.username }}</td>
                    <td>{{ stat.highscore / 1000 | number:3}}</td>
                    <td>{{ stat.coins_collected }}</td>
                    <td>{{ stat.eastereggs_found }}</td>
                </tr>

                </tbody>

            </table>
        </span>
    </div>
</div>