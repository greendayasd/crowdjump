<script type="text/javascript">
    tracksite();
</script>

<div class="container" ng-controller="VersionController">

    <h1> Previous Versions and Patchnotes </h1>
    <h4>
        Here you can find the features that got implemented, as well as the user who submitted the idea. <br>
        If you click on an entry, you get additional information about the state of the project at the time of the version. <br>
        You want your own special feature? Submit your own on
        <div class="btn-group">
            <a href="ideas" class="btn btn-info">
                <i aria-hidden="true"></i> Ideas
            </a>.
        </div>
        <br><br>
    </h4>
</div>

<div class="container" ng-controller="HistoryIndexController">

    <table class="table table-striped table-hover">
        <thead class="thead-dark">
        <tr>
            <th scope="col">Version</th>
            <th scope="col">Change</th>
            <th scope="col">Submitter</th>
            <th scope="col">Date</th>
        </tr>
        </thead>
        <tbody ng-repeat="change in history" data-ng-switch on="historyCollapse[$index]">
        <tr class="clickableRow" title="Click to show more information about the version."
            data-ng-click="selectTableRow($index)">
            <td>{{ change.label }}</td>
            <td>{{ change.change }}</td>
            <td>{{ change.submitter.username }}</td>
            <td>{{ change.created_at | date : "dd.MM.y HH:mm" }}</td>
        </tr>
        <tr data-ng-switch-when="true">
            <td colspan="9">
                <table class="table table-striped">
                    <tbody>
                    <tr>
                        <td>{{ change.features_game }}</td>
                    </tr>
                    <tr>
                        <td>{{ change.features_design }}</td>
                    </tr>
                    <tr>
                        <td>{{ change.features_selection }}</td>
                    </tr>
                    <tr>
                        <td>{{ change.features_website }}</td>
                    </tr>
                    <tr ng-show="change.idea != undefined">
                        <td></td>
                    </tr>
                    <tr ng-show="change.idea != undefined">
                        <td><b>Original Idea:</b></td>
                    </tr>
                    <tr ng-show="change.idea != undefined">
                        <td>{{ change.idea.request_text }}</td>
                    </tr>
                    <tr ng-show="change.idea != undefined">
                        <td>{{ change.idea.description }}</td>
                    </tr>
                    </tbody>
                </table>
            </td>
        </tr>

        </tbody>

    </table>
</div>

